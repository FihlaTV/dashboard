function captureVideoFrame(e,t,n,a){if("string"==typeof e&&(e=document.querySelector(e)),t=t||"jpeg",!e||"png"!==t&&"jpeg"!==t)return!1;var l=document.createElement("CANVAS");l.width=n||e.videoWidth,l.height=a||e.videoHeight,l.getContext("2d").drawImage(e,0,0);for(var s=l.toDataURL("image/"+t),o=s.split(",")[1],u=s.split(";")[0].slice(5),i=window.atob(o),g=new ArrayBuffer(i.length),c=new Uint8Array(g),d=0;d<i.length;d++)c[d]=i.charCodeAt(d);var r=new Blob([c],{type:u});return{blob:r,dataUri:s,format:t,width:l.width,height:l.height}}